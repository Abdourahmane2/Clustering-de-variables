% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FAMD_finale.R
\name{CAH_mixtes}
\alias{CAH_mixtes}
\title{CAH_mixtes: Hierarchical Clustering of Variables on Mixed Data}
\description{
R6 class to perform factor analysis of mixed data (FAMD)
followed by hierarchical clustering of variables. This class allows
grouping quantitative and qualitative variables into homogeneous clusters
based on their coordinates in the factorial space.
}
\details{
The CAH_mixtes class combines two main analyses:
\itemize{
\item \strong{FAMD (Factor Analysis of Mixed Data)}: Factor analysis
adapted to data containing both quantitative and qualitative variables
\item \strong{Hierarchical clustering}: Grouping of variables into
clusters based on their factorial coordinates
}

The complete process follows these steps:
\enumerate{
\item Automatic detection of variable types (quantitative/qualitative)
\item FAMD calculation to obtain factorial coordinates of variables
\item Hierarchical clustering of variables in the factorial space
\item Visualization and evaluation of clustering quality
}
}
\examples{
\dontrun{
# Create a CAH_mixtes object with 5 components
model <- CAH_mixtes$new(n_components = 5)

# Load mixed data
data <- data.frame(
  age = c(25, 30, 35, 40, 45),
  income = c(30000, 45000, 60000, 75000, 90000),
  category = factor(c("A", "B", "A", "C", "B")),
  level = factor(c("low", "medium", "high", "high", "medium"))
)

# Perform FAMD analysis
model$fit(data)

# Perform hierarchical clustering
model$clustering_hierarchical(n_clusters = 2, method = "ward")

# Visualize results
model$plot_variables(axes = c(1, 2))
model$dendo()
model$qualite_clustering()

# Display summary
model$summary()
}


## ------------------------------------------------
## Method `CAH_mixtes$new`
## ------------------------------------------------

\dontrun{
# Create a model with 5 components (default)
model <- CAH_mixtes$new()

# Create a model with 10 components
model <- CAH_mixtes$new(n_components = 10)
}

## ------------------------------------------------
## Method `CAH_mixtes$fit`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new(n_components = 5)
model$fit(my_data)
}

## ------------------------------------------------
## Method `CAH_mixtes$clustering_hierarchical`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)

# Clustering with Ward's method (default)
labels <- model$clustering_hierarchical(n_clusters = 3)

# Clustering with complete linkage
labels <- model$clustering_hierarchical(n_clusters = 3, method = "complete")
}

## ------------------------------------------------
## Method `CAH_mixtes$predict`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(train_data)
model$clustering_hierarchical(n_clusters = 3)

# Predict for new variables
new_vars <- data.frame(
  new_var1 = c(1, 2, 3, 4, 5),
  new_var2 = factor(c("A", "B", "A", "C", "B"))
)
predictions <- model$predict(new_vars)
print(predictions)
}

## ------------------------------------------------
## Method `CAH_mixtes$dendo`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$dendo()
}

## ------------------------------------------------
## Method `CAH_mixtes$plot_variables`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)

# Visualize in plane (Dim1, Dim2)
model$plot_variables(axes = c(1, 2))

# Visualize in plane (Dim2, Dim3)
model$plot_variables(axes = c(2, 3))
}

## ------------------------------------------------
## Method `CAH_mixtes$elbow_method`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)

# Test up to 10 clusters
model$elbow_method(max_clusters = 10)

# Test up to 15 clusters with complete linkage
model$elbow_method(max_clusters = 15, method = "complete")
}

## ------------------------------------------------
## Method `CAH_mixtes$qualite_clustering`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$qualite_clustering()
}

## ------------------------------------------------
## Method `CAH_mixtes$print`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$print()
}

## ------------------------------------------------
## Method `CAH_mixtes$summary`
## ------------------------------------------------

\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$summary()
}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{n_components}}{Number of principal components to retain (integer)}

\item{\code{famd_result}}{Complete FAMD analysis result (FactoMineR object)}

\item{\code{data}}{Training data (data.frame)}

\item{\code{data_type}}{Detected data type: "mixte", "quali" or "quanti"}

\item{\code{quanti_vars}}{Vector of quantitative variable names}

\item{\code{quali_vars}}{Vector of qualitative variable names}

\item{\code{coord_var}}{Matrix of variable coordinates in factorial space}

\item{\code{eigenvalues}}{FAMD eigenvalues}

\item{\code{inertia_explained}}{Percentage of inertia explained by component}

\item{\code{labels_var}}{Vector of cluster labels for each variable}

\item{\code{hclust_result}}{Hierarchical clustering result (hclust object)}

\item{\code{cluster_centers}}{Matrix of cluster centers}

\item{\code{clustering_method}}{Clustering method used}

\item{\code{n_clusters}}{Number of clusters created}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-CAH_mixtes-new}{\code{CAH_mixtes$new()}}
\item \href{#method-CAH_mixtes-fit}{\code{CAH_mixtes$fit()}}
\item \href{#method-CAH_mixtes-clustering_hierarchical}{\code{CAH_mixtes$clustering_hierarchical()}}
\item \href{#method-CAH_mixtes-predict}{\code{CAH_mixtes$predict()}}
\item \href{#method-CAH_mixtes-dendo}{\code{CAH_mixtes$dendo()}}
\item \href{#method-CAH_mixtes-plot_variables}{\code{CAH_mixtes$plot_variables()}}
\item \href{#method-CAH_mixtes-elbow_method}{\code{CAH_mixtes$elbow_method()}}
\item \href{#method-CAH_mixtes-qualite_clustering}{\code{CAH_mixtes$qualite_clustering()}}
\item \href{#method-CAH_mixtes-print}{\code{CAH_mixtes$print()}}
\item \href{#method-CAH_mixtes-summary}{\code{CAH_mixtes$summary()}}
\item \href{#method-CAH_mixtes-clone}{\code{CAH_mixtes$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-new"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-new}{}}}
\subsection{Method \code{new()}}{
Initialize a new CAH_mixtes object
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$new(n_components = 5)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{n_components}}{Number of principal components to retain for FAMD.
Default: 5. This parameter determines the dimensionality of the
factorial space in which clustering will be performed.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new initialized CAH_mixtes object
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Create a model with 5 components (default)
model <- CAH_mixtes$new()

# Create a model with 10 components
model <- CAH_mixtes$new(n_components = 10)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-fit"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-fit}{}}}
\subsection{Method \code{fit()}}{
Perform FAMD analysis on provided data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$fit(df)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{df}}{Data.frame containing data to analyze. Can contain
quantitative variables (numeric) and/or qualitative variables (factors
or character strings). Variable type detection is automatic.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
This method:
\itemize{
\item Automatically detects variable types
\item Converts qualitative variables to factors
\item Calculates FAMD with specified number of components
\item Extracts variable coordinates in factorial space
\item For qualitative variables, calculates the barycenter of modalities
}
}

\subsection{Returns}{
Updated CAH_mixtes object (invisible), allowing chaining
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new(n_components = 5)
model$fit(my_data)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-clustering_hierarchical"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-clustering_hierarchical}{}}}
\subsection{Method \code{clustering_hierarchical()}}{
Perform hierarchical clustering of variables
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$clustering_hierarchical(n_clusters, method = "ward")}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{n_clusters}}{Number of clusters to create (positive integer)}

\item{\code{method}}{Linkage method for HAC. Available options:
\itemize{
\item \code{"ward"} (default): Ward's method (ward.D2)
\item \code{"complete"}: Complete linkage
\item \code{"single"}: Single linkage
\item \code{"average"}: Average linkage
}}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
This method:
\itemize{
\item Calculates Euclidean distance matrix between variables
in factorial space
\item Performs hierarchical clustering with specified method
\item Cuts hierarchical tree to obtain desired number of clusters
\item Calculates centers of each cluster
\item Displays distribution of variables by cluster
}
}

\subsection{Returns}{
Named vector of cluster labels for each variable
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)

# Clustering with Ward's method (default)
labels <- model$clustering_hierarchical(n_clusters = 3)

# Clustering with complete linkage
labels <- model$clustering_hierarchical(n_clusters = 3, method = "complete")
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-predict"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-predict}{}}}
\subsection{Method \code{predict()}}{
Predict cluster membership for new variables
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$predict(new_vars)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{new_vars}}{Data.frame containing new variables to classify.
Must have the same number of rows (individuals) as training data.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
This method:
\itemize{
\item Combines training data with new variables
\item Performs new FAMD on combined set
\item Extracts coordinates of new variables
\item Calculates distance to existing cluster centers
\item Assigns each new variable to nearest cluster
}
}

\subsection{Returns}{
Data.frame with three columns:
\itemize{
\item \code{Variable}: Variable name
\item \code{Type}: Variable type ("Quantitative" or "Qualitative")
\item \code{Cluster_Predit}: Predicted cluster number
}
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(train_data)
model$clustering_hierarchical(n_clusters = 3)

# Predict for new variables
new_vars <- data.frame(
  new_var1 = c(1, 2, 3, 4, 5),
  new_var2 = factor(c("A", "B", "A", "C", "B"))
)
predictions <- model$predict(new_vars)
print(predictions)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-dendo"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-dendo}{}}}
\subsection{Method \code{dendo()}}{
Display dendrogram of hierarchical clustering
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$dendo()}\if{html}{\out{</div>}}
}

\subsection{Details}{
Generates a dendrogram plot (hierarchical tree) showing
the clustering structure of variables. The y-axis represents
the distance at which clusters are merged.
}

\subsection{Returns}{
CAH_mixtes object (invisible), allowing chaining
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$dendo()
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-plot_variables"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-plot_variables}{}}}
\subsection{Method \code{plot_variables()}}{
Visualize variables in factorial plane
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$plot_variables(axes = c(1, 2))}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{axes}}{Vector of two integers specifying axes to display.
Default: c(1, 2) for first two dimensions.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Generates a ggplot2 graph showing:
\itemize{
\item Position of variables in factorial plane
\item Type of each variable (point shape)
\item Cluster membership (point color) if clustering
has been performed
\item Name of each variable (with overlap avoidance)
}
}

\subsection{Returns}{
CAH_mixtes object (invisible), allowing chaining
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)

# Visualize in plane (Dim1, Dim2)
model$plot_variables(axes = c(1, 2))

# Visualize in plane (Dim2, Dim3)
model$plot_variables(axes = c(2, 3))
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-elbow_method"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-elbow_method}{}}}
\subsection{Method \code{elbow_method()}}{
Apply elbow method to determine optimal number of clusters
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$elbow_method(max_clusters = 10, method = "ward")}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{max_clusters}}{Maximum number of clusters to test. Default: 10}

\item{\code{method}}{Linkage method for HAC. Default: "ward"}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
This method:
\itemize{
\item Calculates within-cluster inertia for each number of clusters
from 2 to max_clusters
\item Generates a plot of inertia evolution
\item Allows visual identification of optimal "elbow"
}

The optimal number of clusters generally corresponds to the point where
inertia decreases less rapidly (the "elbow" of the curve).
}

\subsection{Returns}{
CAH_mixtes object (invisible), allowing chaining
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)

# Test up to 10 clusters
model$elbow_method(max_clusters = 10)

# Test up to 15 clusters with complete linkage
model$elbow_method(max_clusters = 15, method = "complete")
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-qualite_clustering"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-qualite_clustering}{}}}
\subsection{Method \code{qualite_clustering()}}{
Evaluate clustering quality using silhouette
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$qualite_clustering()}\if{html}{\out{</div>}}
}

\subsection{Details}{
This method:
\itemize{
\item Calculates silhouette coefficient for each variable
\item Calculates average silhouette width (overall quality)
\item Generates silhouette plot colored by cluster
}

Silhouette interpretation:
\itemize{
\item 0.71 - 1.0: Strong structure
\item 0.51 - 0.70: Reasonable structure
\item 0.26 - 0.50: Weak structure
\item < 0.25: No substantial structure
}
}

\subsection{Returns}{
CAH_mixtes object (invisible), allowing chaining
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$qualite_clustering()
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-print"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-print}{}}}
\subsection{Method \code{print()}}{
Display summary of analysis results
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$print()}\if{html}{\out{</div>}}
}

\subsection{Details}{
Displays information about:
\itemize{
\item Number of individuals and variables
\item Type of data (mixed, qualitative, quantitative)
\item Number of components and explained inertia
\item Number of clusters created
\item Distribution of variables by cluster
\item Accessible R objects
}
}

\subsection{Returns}{
CAH_mixtes object (invisible), allowing chaining
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$print()
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-summary"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-summary}{}}}
\subsection{Method \code{summary()}}{
Display detailed summary of variable clusters
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$summary()}\if{html}{\out{</div>}}
}

\subsection{Details}{
For each cluster, displays:
\itemize{
\item Cluster number and number of variables
\item List of quantitative variables
\item List of qualitative variables
}

This method helps interpret the meaning of each cluster by
identifying variables grouped together.
}

\subsection{Returns}{
CAH_mixtes object (invisible), allowing chaining
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
model <- CAH_mixtes$new()
model$fit(my_data)
model$clustering_hierarchical(n_clusters = 3)
model$summary()
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CAH_mixtes-clone"></a>}}
\if{latex}{\out{\hypertarget{method-CAH_mixtes-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CAH_mixtes$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
